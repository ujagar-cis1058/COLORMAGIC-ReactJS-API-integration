{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  loading: false,\n  data: [],\n  favoriteBeer: [],\n  error: \"\"\n};\nexport const fetchBeers = createAsyncThunk(\"fetchBeers\", async page => {\n  try {\n    const res = await fetch(\"https://api.punkapi.com/v2/beers?page=\" + page + \"&per_page=10\").then(data => data.json());\n    return res;\n  } catch (Error) {\n    console.error(Error);\n  }\n});\nexport const fetchFilteredData = createAsyncThunk(\"fetchFilteredData\", async food_pairing => {\n  try {\n    const res = await fetch(\"https://api.punkapi.com/v2/beers?food=\" + food_pairing + \"&per_page=10\").then(data => data.json());\n    return res;\n  } catch (Error) {\n    console.error(Error);\n  }\n});\nexport const beerSlice = createSlice({\n  name: \"beer\",\n  initialState,\n  reducers: {\n    toggleFavoriteBeer: (state, action) => {\n      state.favoriteBeer.filter(x => x.id == action.payload).length > 0 ? state.favoriteBeer = state.favoriteBeer.filter(x => x.id != action.payload) : state.favoriteBeer.push(state.data.filter(x => x.id == action.payload)[0]);\n    },\n    clearFavoriteList: state => {\n      state.favoriteBeer = [];\n    },\n    rateFavoriteBeer: (state, action) => {\n      const index = state.favoriteBeer.indexOf(state.favoriteBeer.filter(x => x.id == action.payload.beerId)[0]);\n      state.favoriteBeer[index].rating = action.payload.value;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchBeers.pending, state => {\n      state.loading = true;\n    });\n    builder.addCase(fetchBeers.fulfilled, (state, action) => {\n      state.loading = false;\n      state.data = action.payload;\n      state.error = \"\";\n    });\n    builder.addCase(fetchBeers.rejected, (state, action) => {\n      state.loading = false;\n      state.data = [];\n      state.error = action.error.message;\n    });\n    builder.addCase(fetchFilteredData.pending, state => {\n      state.loading = true;\n    });\n    builder.addCase(fetchFilteredData.fulfilled, (state, action) => {\n      state.loading = false;\n      state.data = action.payload;\n      state.error = \"\";\n    });\n    builder.addCase(fetchFilteredData.rejected, (state, action) => {\n      state.loading = false;\n      state.data = [];\n      state.error = action.error.message;\n    });\n  }\n});\nexport const {\n  toggleFavoriteBeer,\n  clearFavoriteList,\n  rateFavoriteBeer\n} = beerSlice.actions;\nexport default beerSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","initialState","loading","data","favoriteBeer","error","fetchBeers","page","res","fetch","then","json","Error","console","fetchFilteredData","food_pairing","beerSlice","name","reducers","toggleFavoriteBeer","state","action","filter","x","id","payload","length","push","clearFavoriteList","rateFavoriteBeer","index","indexOf","beerId","rating","value","extraReducers","builder","addCase","pending","fulfilled","rejected","message","actions","reducer"],"sources":["/windows/Gorank/Projects/JS/react/mern-web-admin/Beer_App_React-main/src/features/beer/beerSlice.ts"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nexport interface beerState {\n  loading: boolean;\n  data: any;\n  favoriteBeer: any;\n  error: any;\n}\n\nconst initialState: beerState = {\n  loading: false,\n  data: [],\n  favoriteBeer: [],\n  error: \"\",\n};\n\nexport const fetchBeers = createAsyncThunk(\n  \"fetchBeers\",\n  async (page: number) => {\n    try {\n      const res = await fetch(\n        \"https://api.punkapi.com/v2/beers?page=\" + page + \"&per_page=10\"\n      ).then((data) => data.json());\n      return res;\n    } catch (Error) {\n      console.error(Error);\n    }\n  }\n);\n\nexport const fetchFilteredData = createAsyncThunk(\n  \"fetchFilteredData\",\n  async (food_pairing: string) => {\n    try {\n      const res = await fetch(\n        \"https://api.punkapi.com/v2/beers?food=\" + food_pairing + \"&per_page=10\"\n      ).then((data) => data.json());\n      return res;\n    } catch (Error) {\n      console.error(Error);\n    }\n  }\n);\n\nexport const beerSlice = createSlice({\n  name: \"beer\",\n  initialState,\n  reducers: {\n    toggleFavoriteBeer: (state, action) => {\n      state.favoriteBeer.filter((x: any) => x.id == action.payload).length > 0\n        ? (state.favoriteBeer = state.favoriteBeer.filter(\n            (x: any) => x.id != action.payload\n          ))\n        : state.favoriteBeer.push(\n            state.data.filter((x: any) => x.id == action.payload)[0]\n          );\n    },\n    clearFavoriteList: (state) => {\n      state.favoriteBeer = [];\n    },\n    rateFavoriteBeer: (state, action) => {\n      const index = state.favoriteBeer.indexOf(\n        state.favoriteBeer.filter((x: any) => x.id == action.payload.beerId)[0]\n      );\n      state.favoriteBeer[index].rating = action.payload.value;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchBeers.pending, (state) => {\n      state.loading = true;\n    });\n    builder.addCase(fetchBeers.fulfilled, (state, action) => {\n      state.loading = false;\n      state.data = action.payload;\n      state.error = \"\";\n    });\n    builder.addCase(fetchBeers.rejected, (state, action) => {\n      state.loading = false;\n      state.data = [];\n      state.error = action.error.message;\n    });\n    builder.addCase(fetchFilteredData.pending, (state) => {\n      state.loading = true;\n    });\n    builder.addCase(fetchFilteredData.fulfilled, (state, action) => {\n      state.loading = false;\n      state.data = action.payload;\n      state.error = \"\";\n    });\n    builder.addCase(fetchFilteredData.rejected, (state, action) => {\n      state.loading = false;\n      state.data = [];\n      state.error = action.error.message;\n    });\n  },\n});\n\nexport const { toggleFavoriteBeer, clearFavoriteList, rateFavoriteBeer } =\n  beerSlice.actions;\n\nexport default beerSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}